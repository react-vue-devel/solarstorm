{"version":3,"sources":["../../src/pages/home/home.module.ts","../../src/pages/home/home.ts"],"names":[],"mappings":"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","file":"2.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { HomePage } from './home';\n\n@NgModule({\n  declarations: [\n    HomePage,\n  ],\n  imports: [\n    IonicPageModule.forChild(HomePage),\n  ],\n})\nexport class HomePageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/home/home.module.ts","import { Component } from '@angular/core';\nimport { IonicPage, NavController, NavParams, LoadingController, AlertController, ModalController } from 'ionic-angular';\nimport { FontsProvider } from '../../providers/fonts/fonts';\nimport { IcoMoonSelection } from '../../interfaces/interfaces';\n\n/**\n * Generated class for the HomePage page.\n *\n * See https://ionicframework.com/docs/components/#navigation for more info on\n * Ionic pages and navigation.\n */\n\n@IonicPage({\n  segment: 'home/:version'\n})\n@Component({\n  selector: 'page-home',\n  templateUrl: 'home.html',\n})\nexport class HomePage {\n\n  public readonly latestVersionPath: string = 'latest'\n  public versions: { version: string, ico: IcoMoonSelection }[] = [];\n  public allIconsSet: string[] = [];\n  private loadingSpinner;\n  private searchList: string[] = [];\n\n  constructor(\n    public navCtrl: NavController,\n    public navParams: NavParams,\n    private fontsProvider: FontsProvider,\n    public loadingCtrl: LoadingController,\n    private alertCtrl: AlertController,\n    public modalCtrl: ModalController,\n  ) {\n    this.init();\n  }\n\n  async init() {\n    this.presentLoadingSpinner();\n    await this.loadAssets(this.latestVersionPath);\n    (this.navParams.data.version && this.navParams.data.version!= ':version') ? (await this.loadAssets(this.navParams.data.version)) : '';\n    this.dismissLoadingSpinner();\n  }\n\n  async loadAssets(version: string, index?: number) {\n    return this.fontsProvider.fetchAssetFonts(version).then((assets)=>{\n      let asset = {version: version, ico: assets};\n      (index > 0) ? this.versions[index] = asset : this.versions.push(asset);\n      this.syncAllIconsSet();\n    }).catch((error)=>{\n      this.presentAlert('Error loading version \"'+version+'\"', error)\n    });\n  }\n\n  public presentIconDetailModal(icon) {\n    const modal = this.modalCtrl.create('IconDetailPage', icon);\n    modal.present();\n  }\n\n  public presentSelectVersionModal(data, index) {\n    this.presentLoadingSpinner();\n    const modal = this.modalCtrl.create('SelectVersionPage', data);\n    modal.present().then(()=>{this.dismissLoadingSpinner()});\n    modal.onDidDismiss((version: any) => {\n      if(version) {\n        this.presentLoadingSpinner();\n        this.loadAssets(version, index).then(()=>this.dismissLoadingSpinner());\n      }\n      \n    })\n  }\n\n  public getItems(ev: any) {\n    this.initializeSearchItems();\n    const val = ev.target.value;\n    if (val && val.trim() != '') {\n      this.allIconsSet = this.allIconsSet.filter((item) => {\n        return (item.toLowerCase().indexOf(val.toLowerCase()) > -1);\n      })\n    }\n  }\n\n  private syncAllIconsSet() {\n    let allIconsSet = new Set();\n    let allIcons = [];\n    this.versions.forEach(version=>{\n      allIcons = allIcons.concat(Object.keys(version.ico.ligatureMap))\n    })\n    allIcons.forEach(icon=>{\n      allIconsSet.add(icon);\n    })\n    this.allIconsSet = Array.from(allIconsSet);\n    this.searchList = this.allIconsSet;\n  }\n\n  private initializeSearchItems() {\n    this.allIconsSet =  this.searchList;\n  }\n\n  private presentLoadingSpinner() {\n    this.loadingSpinner = this.loadingCtrl.create({\n      content: 'Please wait...'\n    });\n    this.loadingSpinner.present();\n  }\n\n  private dismissLoadingSpinner() {\n    try {\n      this.loadingSpinner.dismiss();\n    } catch (e){}\n  }\n\n  private presentAlert(title: string, error: Error) {\n    let alert = this.alertCtrl.create({\n      title: title,\n      subTitle: `Error : ${error.name} <br> Message: ${error.message}`,\n      buttons: ['Ok']\n    });\n    alert.present();\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/home/home.ts"],"sourceRoot":""}